<div class="home-container">
  <h1>These are your Spotify favorites artists</h1>

  <div class="search-container">
    <form>
      <fa-icon [icon]="faSearch"></fa-icon>
      <input
        type="text"
        placeholder="Here you can search an artist..."
        (input)="search($event)"
      />
    </form>
  </div>

  <div *ngIf="artists.length > 0; else noArtists">
    <form id="searchOptions" [formGroup]="searchForm">
      <label for="time_range">Choose a time range:</label>
      <select name="time_range" id="time_range" (change)="changeTimeRange($event)" >
        <option value="short_term">Short Term</option>
        <option value="medium_term">Medium Term</option>
        <option value="long_term">Long Term</option>
      </select>
      <img
        class="tooltip"
        src="../../../../assets/tooltip.png"
        alt="tooltip"
        title="Valid values: long_term (calculated from several years of data and including all new data as it becomes available), medium_term (approximately last 6 months), short_term (approximately last 4 weeks)"
      />

      <label for="">Quantity</label>
      <input
        type="number"
        placeholder="Number of items to return. Default: 10"
        min="1"
        max="50"
        required
        (input)="checkMaximumValue($event)"
        formControlName="artistQuantity"
        id="quantityArtist"
      />

      <button (click)="getUserTopArtists()">Search</button>
    </form>

    <div class="moments-container">
      <div class="moment" *ngFor="let artist of artists; index as i">
        <img
          class="moment-image"
          src="{{ artist.images[0].url }}"
          alt="{{ artist.name }}"
          (click)="redirect(artist.external_urls.spotify)"
        />
        <h3>{{ i + 1 }}º {{ artist.name }}</h3>
        <p>Genres: {{ getArtistGenres(artist) }}</p>
        <p>Popularity: {{ artist.popularity }}</p>
        <p>You favorites tracks from artist</p>
        <!-- <p class="date">Em:{{ moment.created_at }}</p> -->
        <!-- <p>Comentários:{{ moment.comments!.length }}</p>
      <p><a routerLink="moments/{{ moment.id }}">Detalhes</a></p> -->
      </div>
    </div>
  </div>

  <ng-template #noArtists>
    <h1>Você precisa se logar para ter acessos ao seus analytics</h1>
  </ng-template>
</div>
